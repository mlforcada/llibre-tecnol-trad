\chapter{Traducció automàtica espanyol--català}
\label{se:PdTACC}

La inclusió d'aquest apèndix en el llibre té tres objectius:
\begin{enumerate}
\item Estudiar amb una miqueta més de detall els problemes que
  planteja la traducció automàtica entre dues llengües
  emparentades. Podríeu pensar que, sent l'espanyol i el català tan
  similars sintàcticament, els problemes serien poc importants: el
  capítol intenta convéncer-vos que les coses no són tan senzilles com
  podrien semblar a primera vista.
\item Il·lustrar, amb un parell de llengües concret, alguns dels
  conceptes tractats en els capítols anteriors.
\item Donar una breu notícia de les experiències de traducció
  automàtica espanyol--català existents.
\end{enumerate}



\section{Problemàtica de la traducció automàtica espanyol--català}

\subsection{Introducció}

Les aplicacions potencialment més interessants de la TA
espanyol--català s'em\-mar\-quen dins de l'anomenada {\em
  normalització lingüística}, és a dir, l'esforç de les societats de
parla catalana per promoure'n l'ús normal en tots els àmbits; un
exemple actual el constitueixen els servidors d'Internet
d'institucions públiques i d'empreses privades dels territoris de
parla catalana, on la presència del català és encara minoritària. Quan
la llengua original dels documents és l'espanyol, es podria usar un
sistema de TA per a generar esborranys de documents catalans (o, fins
i tot, documents pràcticament correctes si els documents espanyols
estan escrits en un llenguatge controlat).

En el cas concret de l'espanyol i el català, la proximitat lingüística
entre les dues llengües fa que siga abordable el disseny de sistemes
de traducció automàtica que generen textos d'un nivell de correcció
tal que resulte més rendible revisar el resultat en brut produït pel
programa que fer la traducció completa (mireu la p.~\ref{pg:cost}).


En aquest capítol es presenten alguns dels problemes més importants
amb què es pot trobar qui vulga dissenyar un sistema de traducció
automàtica per a traduir textos de l'espanyol al català. A la vista de
la notable similitud lingüística existent entre les dues llengües, es
podria pensar que la tasca de traducció automàtica podria, en la
majoria dels casos, ser tan senzilla com substituir un a un els mots
espanyols pels seus equivalents catalans. De fet, el model de
traducció automàtica \emph{mot per mot} (definit en la
pàg.~\pageref{pg:mpm}, i que no s'ha de confondre amb el que se sol
anomenar \emph{traducció literal}) és el model de referència que
usarem en aquest capítol: els tres grups de {\em problemes} que es
presenten en aquest capítol són alguns ---no tots--- dels que no resol
el model mot per mot: la segmentació del text origen, l'homografia i
les divergències sintàctiques.

\subsection{Segmentació del text origen}

La segmentació d'un text en mots sol ser normalment molt senzilla: el
programa pot usar els blancs, els tabuladors, els finals de línia o
els signes de puntuació com a fronteres entre mots. Però de vegades no
és tan fàcil: per exemple, l'espanyol uneix moltes vegades diversos
mots en un sol mot, sense que s'hi puguen distingir els mots
components; en català, llevat de contraccions com \emph{al},
\emph{pels}, i \emph{del}, sempre queda alguna indicació d'aquesta
unió, com ara un apòstrof o un guionet. Per exemple, en espanyol, els
pronoms enclítics s'uneixen a l'imperatiu, a l'infinitiu i al gerundi,
i moltes voltes fan que en canvie la forma (vegeu
l'epígraf~\ref{s3:STMorf}). Per sort, aquests problemes es poden
resoldre de manera senzilla usant analitzadors morfològics com els que
es descriuen en l'epígraf~\ref{s3:anmor}.

\subsection{Homografia}

L'homografia pot produir ambigüitat lèxica categorial o fins i tot
aparéixer entre mots de la mateixa categoria lèxica. L'homografia
apareix quan un mot (anomenat usualment \emph{homògraf}) té més d'una
anàlisi morfològica possible (vegeu
l'apartat~\ref{ss:amblex}). L'espanyol ---com les altres llengües
romà\-ni\-ques--- té molts homògrafs. Una de les fonts més importants
d'homografia és la coincidència entre algunes terminacions de la
flexió verbal i algunes terminacions de la flexió nominal i adjectival
(\emph{-a}, \emph{-as}, \emph{-o}, \emph{-e}, \emph{-es}), ja que
involucra categories lèxiques obertes amb molts membres.\footnote{De
  vegades, els mots homògrafs comparteixen una semàntica relacionada,
  com \emph{ahorro}, i altres vegades no, com \emph{oso}.} Però hi ha,
a més, altres fonts menys productives d'ambigüitat, com ara la
coincidència d'algunes de les terminacions del present d'indicatiu
dels verbs en \emph{-ar} amb les del present de subjuntiu dels verbs
en \emph{-er} i \emph{-ir} i al revés. Finalment, hi ha algunes
homografies fortuïtes (algunes particularment freqüents, com ara
\emph{para}, preposició i verb; \emph{una}, determinant i verb, i \emph{como}, radverbi relatiu, preposició i verb).

Per a il·lustrar aquest fet, es presenta un assaig de classificació 
---no exhaustiva---  dels homògrafs espanyols:

\begin{enumerate}
\item Homografia verb conjugat--substantiu:
 \begin{enumerate}

   \item En \emph{-a}: 
   \begin{itemize}
   \item Pres.\ ind., 3a pers.\  sing.\ (1a conj.) / subst.\ fem.\ sing.: \emph{casa}, \emph{pinta},
   \emph{ sala}, \emph{toma}, \emph{entrega}, \emph{osa}.
   \item Pres. subj., 1a i 3a pers.\ sing.\ (2a i 3a conj.) / subst.\ fem.\ sing.:
       \emph{bata}, \emph{tema}, \emph{meta}
   \item Altres: \emph{era} (verb \emph{ser}, 1a i 3a pers.\ sing.\
     pretèrit imperf. i subst.\ fem\. sing.).
   \end{itemize} 

   \item En \emph{-as}:
   \begin{itemize}
   \item Pres.\ ind. 2a pers.\ sing. (1a conj.) / subst.\ fem.\ pl.:
       \emph{casas}, \emph{salas}, \emph{tomas}, \emph{entregas}, \emph{osas};
   \item Pres.\ ind. 2a pers.\ sing (2a i 3a  conj.) / subst.\ fem.\ pl.:
       \emph{batas}, \emph{temas}, \emph{metas}.
   \item Altres: \emph{eras}.
   \end{itemize}

   \item En \emph{-e}:
   \begin{itemize}
   \item Pres.\ subj., 1a/3a pers.\ sing.\ (1a conj.) / subst.\ masc.\  i fem.\
sing.:
       \emph{cante}, \emph{deje}, \emph{sobre}, \emph{pose}, \emph{apunte}
   \item Pres. ind., 3a pers.\ sing.\ (1a conj.) / subst.\ masc.\  i fem.\
sing.: \emph{vale}.
   \item Altres: \emph{traje} (verb \emph{traer}, 1a pers.\ sing.\
     pretèrit indefinit i subst.\ masc.\ sing.)
   \end{itemize}

   \item En \emph{-es}:
   \begin{itemize}
   \item Pres.\ subj., 2a pers.\ sing.\ (1a conj.) / subst.\ masc.\  i fem.\
pl.: \emph{sales} (verb \emph{salar}), \emph{ases} (verb \emph{asar}), 
     \emph{cantes}, \emph{dejes}, \emph{sobres}, \emph{poses}, \emph{apuntes}
   \item Pres. ind., 2a pers.\ sing.\ (1a conj.) / subst.\ masc.\  i fem.\
pl.: \emph{vales}, \emph{sales} (verb \emph{salir}), \emph{ases} (verb
\emph{asir}).
   \end{itemize}
 

   \item En \emph{-o}: 
   \begin{itemize}
     \item 1a pers.\ del
      present d'indicatiu / subst.\ masc.\ sing.: \emph{oso}, \emph{remiendo}, \emph{riego}, \emph{mando}, 
      \emph{canto}, \emph{cardo}, \emph{recibo}, \emph{abono}, \emph{saldo};
     \item altres: \emph{vino}.
   \end{itemize}  

   \item En \emph{-os}:
       marchamos (1a pers.\ pl. present i pretèrit perfet simple
       d'indicatiu i subst.\ masc.\ pl.).

   \item Altres terminacions: \emph{sal} (verb \emph{salir})
       \emph{mentís}, \emph{pagaré}.
  
   
\end{enumerate}
\item Homografia verb conjugat--adjectiu:
 \begin{enumerate}

   \item En \emph{-a}: 
   \begin{itemize}
   \item Pres.\ ind., 3a pers.\  sing.\ (1a conj.) / adj.\ fem.\ sing.: {\em
       pinta}, \emph{monda},
   \emph{ baja}, \emph{linda}.
   \item Pres. subj., 1a i 3a pers.\ sing.\ (2a i 3a conj.) / adj.\ fem.\ sing.:
       \emph{viva}.
   \end{itemize} 

   \item En \emph{-as}:
   \begin{itemize}
   \item Pres.\ ind. 2a pers.\ sing. (1a conj.) / adj.\ fem.\ pl.:
       \emph{pintas}, \emph{bajas}, \emph{mondas}, \emph{lindas};
   \item Pres.\ ind. 2a pers.\ sing (2a i 3a  conj.) / adj.\ fem.\ pl.:
       \emph{vivas}.
   \end{itemize}

   \item En \emph{-e}: 
   \begin{itemize}
   \item Pres.\ subj.\ 1a/3a. pers.\ sing. (1a conj.) / adj.\ masc.\ i fem.\
     sing.: \emph{leve},  \emph{ausente}, \emph{presente}.
   \end{itemize}

   \item En \emph{-es}: 
   \begin{itemize}
   \item Pres.\ subj.\ 2a pers.\ sing. (1a conj.) / adj.\ masc.\ i fem.\
     sing.: \emph{leves}, \emph{ausentes}, \emph{presentes}.
   \end{itemize}

   \item En \emph{-o}: 
   \begin{itemize}
     \item 1a pers.\ del
      present d'indicatiu / adj.\ masc.\ sing.: \emph{pinto}, \emph{mondo}, \emph{bajo}, \emph{lindo},  \emph{vivo}.
   \end{itemize}  

\end{enumerate}

\item Homografia verb conjugat--verb conjugat (molt difícil de resoldre):
\begin{enumerate}
\item Entre verbs de la 1a conj.\ i verbs de la 2a o 3a conj.:
  \begin{itemize}
  \item \emph{sentir}/\emph{sentar}: \emph{siento}, \emph{sientes}, {\em
      siente}, \emph{sienten}, \emph{sienta}, \emph{sientas}, \emph{ sientan}.
  \item \emph{mentir}/\emph{mentar}: com \emph{sentir}/\emph{sentar}
  \item \emph{vendar}/\emph{vender}: \emph{vendo}, \emph{venda}, {\em
      vendas}, \emph{vendamos}, \emph{vendáis}, \emph{vendan},
    \emph{vende}, \emph{vendes}, \emph{vendemos}, \emph{vendéis}, {\em
      venden}.
  \item \emph{salir}/\emph{salar}: \emph{sales}, \emph{sale}, \emph{salen}
  \item \emph{asir}/\emph{asar}: como \emph{salir}/\emph{salar}
  \item \emph{poder}/\emph{podar}: \emph{podamos}, \emph{podáis}, {\em
      podemos}, \emph{podéis}.
  \item \emph{vengar}/\emph{venir}: \emph{vengo}, \emph{vengas}, {\em
      venga}, \emph{vengamos}, \emph{vengáis}, \emph{vengan}.
  \end{itemize}

\item  Entre la 1a pers.\ pl. del present d'indicatiu i del pretèrit perfet
     simple (``pretèrito indefinido'') dels verbs regulars de la 1a i
     3a conjs.: {\em
       amamos}, \emph{cantamos}, \emph{conseguimos}, etc.
\item Altres casos: \emph{amase},  \emph{amasen}, \emph{amases} ({\em
    amar}, \emph{amasar}); fui, fuiste, ... (\emph{ir} i \emph{ser}),
  \emph{ven} (\emph{ver} i \emph{venir}), etc.
\end{enumerate}


\item Homògrafs verb conjugat--preposició: \emph{bajo}, {\em
    cabe}, \emph{entre}, \emph{para}, \emph{sobre}.

\item Homògrafs adjectiu--preposició: \emph{bajo}.

\item Homògrafs substantiu--preposició: \emph{ante}, \emph{sobre}.

\item Homògrafs verb conjugat--determinant:  \emph{uno}, \emph{una},
  \emph{unas} (\emph{unir})
    
\item Homògrafs verb conjugat--adverbi: \emph{así} (\emph{asir}),
    \emph{fuera} (\emph{ser}, \emph{ir}), \emph{ arriba} (\emph{arribar}), {\em
      adelante} (\emph{adelantar}), \emph{cerca} (\emph{cercar}).

\item Homògrafs adjectiu--adverbi: \emph{mucho}, \emph{poco}, {\em
    fuerte}...

\item Homògrafs substantiu--adverbi: \emph{antes}, \emph{tanto},
  \emph{mal}, \emph{bien}...

\item Homògrafs adjectiu--substantiu: \emph{complejo}, {\em
    impreso}, \emph{derecho}...

\item Homògrafs determinant--pronom
    \emph{la}, \emph{los}, \emph{las}, \emph{lo} (en ``lo que'', ``lo grande'')

\item Altres homògrafs: \emph{como} (conjunció i forma de \emph{comer}), \emph{ora} 
  (conjunció i forma de \emph{orar}), \emph{bien} (conjunció, substantiu i
adverbi)

\end{enumerate}


\subsection{Divergències de traducció}

Imaginem que hem pogut segmentar el text espanyol i que hem resolt 
correctament les ambigüitats
lèxiques; si encara decidim fer la traducció mot per mot, ens
trobarem que hi ha certes construccions per a les quals la
traducció no és correcta, ja que els mots catalans no es
corresponen mot per mot amb els espanyols. Vegem quins són 
alguns dels problemes:

\begin{description}
\item[Concordança de gènere i nombre:] De vegades el gènere i el
  nombre d'un mot varien de l'espanyol al català. La dificultat per a
  un sistema de traducció automàtica apareix a l'hora de propagar el
  gènere i el nombre del nucli d'un sintagma als modificadors que hi
  hagen de concordar: \emph{su único amparo} $\rightarrow$ \emph{la
    seua única empara}; \emph{un buen postre} $\rightarrow$ \emph{unes
    bones postres}. Els problemes augmenten si la concordança s'ha
  de produir entre sintagmes distants: \emph{el calor producido por el
    motor ha resultado ser nefasto} $\rightarrow$ \emph{la calor
    produïda pel motor ha resultat ser nefasta}. Un problema similar
  el presenta l'establiment (opcional) de la concordança del
  participi, inexistent en espanyol en situacions com ara
  \emph{todavía no la hemos estudiado con profundidad} $\rightarrow$
  \emph{encara no l'hem estudiada amb profunditat}.
\item[L'article neutre:] L'espanyol posseeix l'anomenat {\em
    article neutre}, que no té correspondència en  català estàndard
  (\emph{lo que me dijiste} $\rightarrow$ \emph{el que em vas dir});
  presenten dificultat especial les construccions usades per a
  expressar l'abstracció o la intensitat: 
  \emph{recibirá el informe lo más pronto posible}
  $\rightarrow$ \emph{rebrà l'informe el més aviat possible};
  \emph{me asusta lo grande que es} $\rightarrow$ \emph{m'espanta com
    és de gran}.
\item[Els possessius:] De vegades, el català usa articles
  determinats i construccions amb el pronom feble \emph{en} 
  on l'espanyol usa possessius: \emph{cuando hagas cosas así
    debes valorar sus consecuencias} $\rightarrow$ \emph{quan
    faces coses així n'has de valorar les
    conseqüències}. 
\item[Els relatius:]
El principal problema apareix quan es volen traduir oracions que
contenen 
el relatiu possessiu \emph{cuyo},
inexistent en català, on el més senzill és 
usar una construcció amb {\em
  qual}, que, a més, presenta un esquema de concordança
diferent (\emph{qual} ha de concordar amb l'antecedent, mentre {\em
  cuyo} concorda amb el nom que el segueix):
\emph{el contribuyente cuyos informes hemos solicitado llegará tarde} 
$\rightarrow$ \emph{el contribuent els informes del qual hem
  sol·licitat 
arribarà tard} (vegeu el final de l'apartat~\ref{s3:transyn}).
\item[Els pronoms febles:]
Els principals problemes es troben en la traducció de \emph{lo}, ja que
pot correspondre 
en català a alguna forma del pronom masculí singular {\em
  lo} o a alguna forma del
pronom neutre \emph{ho}; en la traducció de 
\emph{se}, el qual correspon normalment al reflexiu 
català \emph{se} però
en les combinacions espanyoles \emph{se la}, \emph{se lo}, etc. pot
correspondre de vegades a alguna forma de \emph{li} o \emph{els}, i en
el fet que l'espanyol no té equivalents dels pronoms catalans
adverbials \emph{en} i \emph{hi}  (\emph{me $\emptyset$ dio uno}
$\rightarrow$
\emph{me'n va donar un}); \emph{$\emptyset$ había dos salidas}
$\rightarrow$ \emph{hi havia dues eixides}; \emph{no $\emptyset$
  $\emptyset$ dejó una} $\rightarrow$ \emph{no n'hi va deixar cap}).
\item[Règim preposicional:] Hi ha diferències notables entre
  els règims preposicionals espanyol i català: les
  preposicions espanyoles davant de \emph{que} completiu no apareixen
  en català (\emph{el hecho de que me hable} $\rightarrow$ \emph{el
    fet que em parle}); algunes preposicions no són possibles en català
  davant d'infinitiu (\emph{el juego consiste en ganar...}
  $\rightarrow$ \emph{el joc consisteix a guanyar...}), etc.
\end{description}

\section{Experiències de TA espanyol--català}
\label{se:ETACC}
\com{Actualitzar totes les descripcions. Explicar la raó d'aquest
  capítol (com a exemple)}

En aquest capítol es descriuen breument cinc experiències de traducció
automàtica de l'espanyol al català: SALT, Ara, Es-Ca, els traductors
Automatictrans i el del \textit{El Periòdico de Catalunya} i una
altra, interNOSTRUM, amb una miqueta més de detall.

\subsection{SALT, de la Generalitat Valenciana}

\comprof{Estudiar i descriure SALT 2}

El programa SALT (versió actual, 2.0) porta el nom del \emph{Servei d'Assessorament
  Lingüístic i Traducció} de la Conselleria de Cultura, Educació i
Ciència de la Generalitat Valenciana; es tracta d'un programa per al
sistema operatiu Windows que ha desenvolupat un equip de programadors
dirigit per Rafael Pinter sota la direcció lingüística de Josep
Lacreu, que va ser responsable d'aquest servei fins fa poc.
Inicialment, la disponibilitat del programa va ser més aviat reduïda;
actualment es pot descarregar gratuïtament de diversos servidors
d'Internet (per exemple,
\url{http://www.edu.gva.es/polin/val/salt/apolin_salt.htm}
o \url{www.softcatala.org}) i també el distribueixen els serveis
de normalització lingüística d'algunes universitats.  SALT tradueix
textos (ANSI, RTF o documents de Microsoft Word) en espanyol a la
variant valenciana del català ---l'estàndard lingüístic dels textos
meta es pot regular usant un menú molt senzill--- o corregeix una bona
part de les errades típiques dels textos valencians. El programa pot
ser interactiu i preguntar (al final de la traducció o durant el
procés) a la persona usuària com ha de resoldre algunes ambigüitats, i
dialoga sempre en català; a més, l'usuari pot seguir visualment el
procés de traducció (mot a mot amb modificacions locals) en dues
passades. Els resultats són molt interessants. El programa està
bàsicament concebut com una ajuda a les persones que volen
començar a generar documents en valencià (entre altres eines,
inclou una completíssima guia interactiva de gramàtica i estil).

L'Acadèmia Valenciana de la Llengua ha declarat \emph{oficials} ``els
continguts'' del programa SALT 2 (acord de 20 de maig del 2002).

\subsection{Ara, d'Autotrad}

El programa Ara, llançat l'any 2000 per l'empresa Autotrad de
València\footnote{URI \url{http://www.ara-autotrad.com}} ---el
gerent de la qual és Rafael Pinter, responsable informàtic de SALT---
és bàsicament una versió bastant millorada del SALT, amb una aparença
molt similar però amb algunes diferències: p.e., produeix textos en
català oriental estàndard, pot dialogar amb la persona usuària en
espanyol i en català, i permet programar tasques de traducció perquè
s'executen sense necessitat que la persona usuària les atenga. El cost
(l'any 2004) és de 45 euros per llicència.

\subsection{Es-Ca, de Incyta}

El sistema de traducció automàtica Es-Ca, originalment desenvolupat
per l'empresa Incyta de Cornellà (que després d'una etapa en la qual
va formar part de l'extinta multinacional Sail Labs, ha renascut amb
el nom d'Incyta Multianguage, S.L.) en col·laboració amb la
Universitat Autònoma de Barcelona és un sistema de transferència
sintàctica estàndard, hereu del sistema METAL de l'empresa Siemens. El
sistema no es distribueix com a programa, sinó que es troba en
Internet (\url{http://www.incyta.com}): l'usuari inscrit envia el
text i el servidor li'l retorna traduït; els costos en 1999 eren de 3
pessetes per paraula.  Els resultats del traductor, quan tenia una
demostració disponible en Internet, eren molt acceptables en la major
part dels casos (en l'actualitat no és possible avaluar el programa
gratuïtament).

\subsection{El traductor d'\emph{El Periódico de Catalunya} i AutomaticTrans}
\label{ss:ePdC}

Una experiència interessant de traducció espanyol--català per a la
disseminació és l'edició bilingüe del diari \emph{El Periódico de
  Catalunya}\footnote{Disponible per Internet:
  \url{http://www.elperiodico.es}.}; el text original ---en
espanyol la major part de les vegades--- es tradueix usant una tècnica
similar a les \emph{memòries de traducció} (vegeu el
capítol~\ref{se:memtrad}) i després és revisat per un equip de
posteditors del mateix periòdic abans de ser publicat.

Un programa similar (i, segons les nostres notícies, d'origen comú) a
l'usat per \emph{El Periódico de Catalunya} s'anomena AutomaticTrans i
es pot provar (sobre textos de 50 paraules) en
Internet.\footnote{\url{http://www.automatictrans.es}}


\subsection{interNOSTRUM}


Un equip d'investigadors de la Universitat d'Alacant, finançat per la
Caja de Ahorros del Mediterràneo i la mateixa Universitat, està
desenvolupant actualment sota la direcció d'un dels autors d'aquest
llibre un sistema de traducció automàtica espanyol--català anomenat
\textsf{interNOSTRUM} \citep{canals01a,canals01b}. Més concretament
l'objectiu del projecte (vigent des de novembre de 1998) és
desenvolupar un sistema de traducció automàtica de l'espanyol a les
variants estàndards del català i el sistema invers corresponent.

La versió actual d'{\sf interNOSTRUM} (accessible de forma gratuïta a
través d'Internet, \url{http://www.internostrum.com}) no és
encara un producte acabat, però ja pot ser usat per a generar, quasi
instantàniament, esborranys de traduccions al català llestes per a ser
corregides (posteditades).

Actualment, {\sf interNOSTRUM} tradueix textos en formats ANSI, HTML i
RTF de l'espanyol al català oriental i al revés (sobre formats, vegeu
l'epígraf~\ref{ss:formats}) i permet la navegació traduïda per
Internet (és a dir, permet la traducció instantània dels documents que
es vagen visitant sense haver d'invocar explícitament el traductor).
Al final del projecte, es disposarà de traductors que produïsquen i
accepten altres variants estàndard del català\footnote{En l'actualitat
  el traductor accepta nombroses variants balears i valencianes
  quan tradueix del català a l'espanyol.}. El traductor
català--espanyol està menys desenvolupat que el traductor
espanyol--català.

\subsubsection{Característiques informàtiques}

El traductor s'executa actualment sobre el sistema operatiu GNU/Linux i és
accessible, com ja s'ha dit, a través d'un servidor
d'Internet;\footnote{També hi ha disponible una versió per a servidors
  basats en el sistema operatiu Windows.} está constituït per 8
subprogrames independents que s'executen simultàniament (en
paral·lel), elaboren la traducció per etapes i es comuniquen
mitjançant canals de text ANSI legible\footnote{El sistema operatiu
  GNU/Linux permet construir una canonada (\emph{pipeline}) o cadena de
  muntatge en la qual el text d'eixida d'un programa s'envia com a
  entrada a un altre (en comptes d'enviar-lo a la pantalla), i així
  successivament.} (cosa que facilita enormement el diagnòstic dels
errors de traducció). Sis dels 8 subprogrames es generen
automàticament a partir de les dades lingüístiques
corresponents,\footnote{Característica que permet estendre fàcilment
  el producte a altres idiomes} mitjançant ferramentes informàtiques
desevolupades en el projecte; els altres dos mòduls (el primer i
l'últim de la cadena de muntatge) s'encarreguen, el primer
(\emph{desformatador}), de separar els codis de format HTML o RTF del
text, i l'últim (\emph{reformatador}), de tornar a combinar-los per
tal que la traducció conserve el format del text origen.  La
figura~\ref{fg:modules} mostra un diagrama de blocs del traductor. La
velocitat actual del sistema és de l'ordre de milers de mots per segon
sobre un PC estàndard (molt més ràpida que SALT o Ara, que tradueixen
a velocitats de l'ordre de desenes de molts per segon).

\begin{figure}
{\small
\setlength{\tabcolsep}{0.5mm}
\begin{center}
\begin{tabular}{cccccccccc}
\\
\parbox{0.7cm}{text LO} $\rightarrow$ &
\framebox{\parbox{1.4cm}{desfor\-matador}} $\rightarrow$ &
\framebox{\parbox{0.8cm}{anal. morf.}}  $\rightarrow$ &
\framebox{\parbox{1.2cm}{desamb. categ.}} $\rightarrow$ & \framebox{\parbox{1.1cm}{transf.\ estruc.}} $\rightarrow$ &
\framebox{\parbox{0.8cm}{gen. morf.}} 
$\rightarrow$ & \framebox{\parbox{1.0cm}{post\-genera\-dor}}
$\rightarrow$ & \framebox{\parbox{1.2cm}{reforma\-tador}} $\rightarrow$ &
\parbox{0.7cm}{text LM}\\\\
& &  & & $\updownarrow$   & \\\\
& &
 &  & \framebox{\parbox{1.0cm}{transf.\ lèxica}}                &   \\
\end{tabular}
\end{center}
}
\caption{Els 8 mòduls que formen la cadena de muntatge d'interNOSTRUM.}
\label{fg:modules}
\end{figure}


\subsubsection{Característiques lingüístiques}

{\sf interNOSTRUM} és un sistema clàssic de traducció indirecta per
transferència morfològica avançada (vegeu l'epígraf~\ref{s3:STMorf}),
amb les fases lingüístiques següents:
\begin{enumerate}
\item ANÀLISI: \begin{itemize}
      \item Anàlisi morfològica
      \item Desambiguació lèxica categorial
      \end{itemize}
\item TRANSFERÈNCIA:\begin{itemize}
      \item Transferència lèxica: consulta del diccionari bilingüe
      \item Transferència estructural: tractament de patrons
        (concordança, reordenament, canvis lèxics)\end{itemize}
\item GENERACIÓ:\begin{itemize}
                \item Generació morfològica
                \item Postgeneració (apostrofació, etc.)
                \end{itemize}
\end{enumerate}

\paragraph{Subprogrames basats en tècniques d'estats finits:} 
Els subprogrames d'\emph{anàlisi morfològica}, \emph{consulta del
  diccionari bilingüe}, \emph{generació morfològica} i {\em
  postgeneració} estan basats en \emph{transductors d'estats finits},
similars als descrits en l'epígraf~\ref{s3:anmor}. Aquesta
tecnologia permet velocitats de processament de l'ordre de 10.000 mots
per segon, velocitats que pràcticament no depenen de la grandària dels
diccionaris. Els \emph{transductors d'estats finits} usats en
interNOSTRUM lligen l'entrada símbol a símbol; cada vegada que es
llegeix una lletra canvien d'estat i van produint, també lletra a
lletra, una o més sortides.
\begin{description}
\item[Anàlisi morfològica:] El subprograma d'anàlisi morfològica, que es
  genera automàticament a partir d'un \emph{diccionari morfològic} de
  la llengua origen (LO), el qual conté els lemes, els paradigmes de flexió
  i les connexions entre ells. L'entrada són les formes superficials
  del text i la sortida, formes lèxiques consistents en lema, categoria
  lèxica i informació de flexió. 
\item[Consulta del diccionari bilingüe] (transferència lèxica): El subprograma de consulta del
  diccionari bilingüe és invocat pel subprograma de tractament de patrons
  (vegeu més avall); es genera automàticament a partir d'un fitxer que
  conté les correspondències bilingües. L'entrada és la forma lèxica
  de la LO i la sortida, la forma lèxica corresponent en
  la llengua meta (LM).
\item[Generació morfològica:] El generador morfològic fa l'operació
  inversa a l'analitzador morfològic però amb formes de la LM i es
  genera automàticament a partir d'un diccionari morfològic de la LM.
\item[Postgeneració:] Les formes superficials que estan implicades en
  processos d'apostrofació i guionatge (pronoms febles, articles,
  algunes preposicions, etc.) activen aquest subprograma, que
  normalment es troba inactiu. El postgenerador es genera a partir de
  regles senzilles d'apostrofació, guionatge i combinació de pronoms febles.
\end{description}
Com ja s'ha discutit en el capítol~\ref{se:PdTACC}, la divisió d'un
text en mots presenta alguns aspectes no trivials; se n'esmenten dos:
les \emph{locucions} (o \emph{girs}) i els pronoms enclítics.

\paragraph{Locucions i girs:} Hi ha nombroses locucions i girs que es poden tractar com a \emph{unitats
  multimot} i s'estan incorporant gradualment als diccionaris
morfològics de les dues llengües i al diccionari bilingüe:
\begin{itemize}
\item \emph{con cargo a} $\rightarrow$ \emph{a càrrec de}
\item \emph{por adelantado} $\rightarrow$ \emph{per endavant}, \emph{a la bestreta}
\item \emph{el abajo firmante} $\rightarrow$ \emph{el sotasignat}
\item \emph{{\bf echar} de menos} $\rightarrow$ \emph{{\bf trobar} a faltar}
\end{itemize}
En l'últim exemple, el gir no és invariable sinó que té un element que
es flexiona (en negretes).

\paragraph{Pronoms enclítics:} El subprograma d'anàlisi morfològica també és capaç de resoldre les
combinacions de verbs i pronoms febles enclítics en espanyol, les
quals presenten variacions ortogràfiques com ara canvis d'accentuació
o pèrdua de consonants:
\begin{itemize}
\item \emph{d\'{a}melo} = \emph{da} $+$ \emph{me} $+$ \emph{lo} $\rightarrow$
\emph{dóna} $+$ \emph{me} $+$ \emph{lo} = \emph{dóna-me'l}
\item \emph{pong\'{a}monos} = \emph{pongamos} $+$ \emph{nos} $\rightarrow$ {\em
posem} $+$ \emph{nos} = \emph{posem-nos}.  
\end{itemize}

El sistema interNOSTRUM tracta aquests dos problemes amb l'analitzador
morfològic, el qual és capaç de decidir quan un grup de mots s'ha de
tractar conjuntament o per separat. 

\paragraph{El subprograma de desambiguació lèxica categorial:} 
Aquest subprograma usa un model de llenguatge basat en trigrames
(se\-qüèn\-cies de tres categories lèxiques), de l'estil del descrit
en la secció~\ref{s3:reshom}. Aquest model es basa en les freqüències
observades per a aquests trigrames en un corpus de referència, i
assigna una probabilitat a cada possible desambiguació de la frase que
conté mots amb ambigüitat categorial. La desambiguació més probable
(la més versemblant) és l'elegida. En l'actualitat, les prestacions
d'aquest subprograma són molt millorables perquè els corpus de
referència actualment en ús no són encara suficientment
representatius.

Els pocs errors en homògrafs \emph{difícils} i \emph{freqüents}, com
ara \emph{una} (article/verb, freqüència 0,77\%), \emph{para}
(verb/prep., freqüència 0,77\%) i \emph{como} (conj./verb, freqüència
0,43\%) degraden actualment molt la qualitat de la traducció. Altres
homògrafs freqüents no són tan difícils de desambiguar.

Les ambigüitats lèxiques no categorials s'aborden amb estratègies {\em
  ad hoc} provisionals. En el futur, molts d'aquests homògrafs
s'inclouran en la definició d'un \emph{llenguatge controlat},
alternativa a la preedició consistent en l'aplicació de restriccions
lèxiques, sintàctiques i d'estil als textos de la LO. La CAM ha
encarregat també el disseny d'un espanyol controlat per a textos
financers i dels \emph{assistents d'estil} corresponents per als
autors.


\paragraph{El subprograma de tractament de patrons (transferència
  estructural):} 
Malgrat la gran semblança entre l'espanyol i el català, hi ha
divergències gramaticals considerables (vegeu el capítol~\ref{se:PdTACC}):
\begin{itemize}
\item perífrasis modals: \emph{tienen que firmar}
$\rightarrow$ \emph{han de firmar}; 
\item canvis de gènere i nombre: \emph{la deuda
  contraída} $\rightarrow$ \emph{el deute contret} (masc.);
\item caiguda de preposicions: \emph{la intención de que el cliente} $\rightarrow$ \emph{la
intenció $\emptyset$ que el client}; 
\item construccions relatives: \emph{la cuenta cuyo titular es} $\rightarrow$ \emph{el compte el
    titular del qual és}.
\end{itemize}
Aquestes divergències s'han de tractar amb les regles gramaticals
escaients.  

\com{Fer referència a les seccions corresponents de la resta del llibre!!!}
La solució elegida (estàndard en sistemes comercials, vegeu
\citet{mira98j}, \citet{forcada00p}) es basa en la detecció i el
tractament de seqüències predefinides de categories lèxiques
(anomenades \emph{patrons}), és a dir, una mena de sintagmes
rudimentaris, com ara {\bf art}--{\bf nom} o {\bf art}--{\bf
  nom}--{\bf adj}. Les seqüències considerades pel subprograma en
formen el \emph{catàleg} de patrons. El funcionament del subprograma es
basa en un esquema patró--acció:
\begin{itemize}
\item Llegeix el text (analitzat i desambiguat) d'esquerra a dreta,
  categoria lèxica a categoria lèxica.
\item Busca, en la posició actual de la frase, el patró més llarg que
  concorda amb un patró del seu catàleg (per exemple, si en la posició
  actual es llegeix ``un senyal inequívoc\ldots'', tria {\bf
    art}--{\bf nom}--{\bf adj} en comptes de {\bf art}--{\bf nom}).
\item Opera sobre aquest patró (propagació de gènere i nombre,
  reordenament, canvis lèxics) seguint les regles associades a ell.
\item Continua immediatament darrere del patró tractat (no torna a
  visitar els mots sobre els quals ha operat).
\end{itemize}
Quan no es detecta cap patró en la posició actual, es tradueix
literalment un mot i es torna a iniciar el procés.  Els fenòmens ``a
la llarga'' com la concordança subjecte--predicat són una mica més
difícils de tractar; s'usa un registre \emph{estat} o  \emph{memòria}
que recorda certes informacions al llarg del procés.

El subprograma de tractament de patrons es genera automàticament a
partir d'un fitxer de regles que especifica els patrons i les accions
associades \citep{garridoalenda01j}.  Aquest és molt probablement el
subprograma més lent (uns 5.000 mots/segon).

% \subsection{Eines de suport a {\sf interNOSTRUM}}
% \com{Fa temps que ``es projecta'' i no fem res: llevar?}

% Es projecta construir les eines següents:
% \begin{itemize}
% \item Un assistent d'estil que permetrà l'autor d'un text en espanyol
%   evitar moltes ambigüitats difícils de resoldre usant regles
%   lèxiques, sintàctiques i d'estil (un  \emph{llenguatge controlat},
%   vegeu la secció~\ref{ss:llecon}).
% \item Un assistent de preedició, que permetrà una desambiguació manual
%   de mots i estructures problemàtiques (simplement fent-hi clic per
%   accedir als menús corresponents) quan els mètodes estadístics
%   indicats més amunt siguen incapaços de fer les tries correctes.
% \item Un assistent de postedició, que permetrà fer clic sobre un mot
%   sospitós de ser una traducció incorrecta i substituir-lo per altres
%   alternatives tenint en compte el text original i farà possible en
%   general qualsevol canvi del text meta.
% \end{itemize}


\section{Qüestions i exercicis}
Aquests exercicis poden servir per a repassar els conceptes tractats en aquest apèndix.
\begin{enumerate}
\item Quina d'aquestes tres tasques és més difícil en un sistema de
  traducció automàtica espanyol--català?
\begin{enumerate}
\item Decidir la traducció del pronom espanyol \emph{se} (pot ser \emph{se},
\emph{li} o \emph{els}).
\item Detectar les formes de \emph{tener que} i traduir-les per \emph{haver de}.
\item Fer l'anàlisi morfològica de verbs seguits d'enclítics 
com ara \emph{estudiémonoslos} o \emph{dándoselo}.
\end{enumerate}

\item Indica quina d'aquestes tres 
és la font més important d'homografia (ambigüitat lèxica
categorial) de l'espanyol:
\begin{enumerate}
\item Les coincidències d'algunes formes d'alguns  
noms i d'alguns adjectius amb certes formes conjugades d'alguns verbs.
\item Les coincidències d'algunes formes de noms amb preposicions.
\item Les coincidències d'algunes formes de noms amb adverbis.
\end{enumerate}

\item El català no té cap construcció equivalent al \emph{cuyo}
  espanyol. En traducció automàtica de l'espanyol al català, una
  alternativa interessant és posar primer el sintagma nominal que
  segueix al \emph{cuyo} i després, una forma de \emph{del
    qual} que concorde amb l'antecedent. Es pot fer sempre
  correctament aquesta operació 
  en un sistema de traducció automàtica que no faça anàlisi
  sintàctica?
\begin{enumerate}
\item Sí, hi ha prou amb fer l'anàlisi morfològica.
\item No, perquè cal determinar bé la longitud del sintagma nominal
  que segueix a \emph{cuyo} per a poder posar \emph{del qual} en la
  posició correcta.
\item No, perquè \emph{cuyo} no té un equivalent morfològic en
  espanyol.
\end{enumerate}


% < QT12

\end{enumerate}

\section{Solucions}
\begin{enumerate}
\item (a)
\item (a)
\item (b)

% < SL12

\end{enumerate}
